# ---
# Auto-discovery file for gatus-sidecar
# The sidecar will dynamically populate this with HTTPRoutes/Services
# You can also manually add critical cluster endpoints here

# Example manual endpoints (uncomment to use):
# endpoints:
#   - name: kube-apiserver
#     group: infrastructure
#     url: "https://kubernetes.default.svc.cluster.local:443/readyz"
#     interval: 30s
#     client:
#       insecure: true
#     conditions:
#       - "[STATUS] == 200"

# endpoints:
#   - name: Status Page
#     group: Artemis Cluster
#     url: https://status.dcunha.io
#     interval: 1m
#     ui:
#       hide-url: true
#       hide-hostname: true
#     conditions:
#       - "[STATUS] == 200"
endpoints:
  - name: Ping
    group: Artemis Cluster
    url: icmp://${DDNS_HOSTNAME}
    interval: 1m
    ui:
      hide-url: true
      hide-hostname: true
    conditions:
      - "[CONNECTED] == true"
    # alerts:
    #   - type: pushover

  - name: Status Page
    group: Artemis Cluster
    url: https://${STATUS_HOSTNAME}
    interval: 1m
    ui:
      hide-url: true
      hide-hostname: true
    conditions:
      - "[STATUS] == 200"
    # alerts:
    #   - type: pushover

external-endpoints:
  - name: Heartbeat
    group: Artemis Cluster
    token: ${HEARTBEAT_TOKEN}
    heartbeat:
      interval: 5m
# alerts:
#   - type: pushover
