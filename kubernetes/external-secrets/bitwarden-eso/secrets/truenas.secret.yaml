apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: truenas-scrt
  namespace: external-secrets
spec:
  secretStoreRef:
    name: bwsm-cluster-store
    kind: ClusterSecretStore
  target:
    name: truenas-scrt
    deletionPolicy: Delete
    template:
      type: Opaque
      data:
        TN_API_KEY: '{{ .TN_API_KEY }}'
        TN_HOST: '{{ .TN_HOST }}'
        TN_IP: '{{ .TN_IP }}'
        TN_HTTPS_PORT: '{{ .TN_HTTPS_PORT }}'
        TN_ISCSI_PORTAL: '{{ .TN_ISCSI_PORTAL }}'
        TN_ISCSI_PORTAL_GROUP: '{{ .TN_ISCSI_PORTAL_GROUP }}'
        TN_ISCSI_INIT_GROUP: '{{ .TN_ISCSI_INIT_GROUP }}'
  data:
  - secretKey: TN_API_KEY
    remoteRef:
      key: ca55887d-b936-4f90-a7e3-b164011c9c9b
      property: TN_API_KEY
  - secretKey: TN_HOST
    remoteRef:
      key: 01637f43-446a-4e7d-b3ab-b164011cbe35
      property: TN_HOST
  - secretKey: TN_IP
    remoteRef:
      key: 94398201-213a-431f-a8e4-b164011ce7c3
      property: TN_IP
  - secretKey: TN_HTTPS_PORT
    remoteRef:
      key: 23ef5d91-b7a9-4ea6-8dcd-b164011d0f75
      property: TN_HTTPS_PORT
  - secretKey: TN_ISCSI_PORTAL
    remoteRef:
      key: 4e396e2e-897d-45bc-a464-b164011d2c27
      property: TN_ISCSI_PORTAL
  - secretKey: TN_ISCSI_PORTAL_GROUP
    remoteRef:
      key: b7756d75-91ad-4362-83f2-b164011d3b25
      property: TN_ISCSI_PORTAL_GROUP
  - secretKey: TN_ISCSI_INIT_GROUP
    remoteRef:
      key: b56d444c-2636-43c4-a318-b164011d4ece
      property: TN_ISCSI_INIT_GROUP
