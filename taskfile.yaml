---
# yaml-language-server: $schema=https://taskfile.dev/schema.json
version: "3"

vars:
  ROOT_DIR: "."
  KUBERNETES_DIR: "{{.ROOT_DIR}}/kubernetes"
  CLUSTER_DIR: "{{.KUBERNETES_DIR}}/main"
  BOOTSTRAP_DIR: "{{.CLUSTER_DIR}}/bootstrap"
  FLUX_DIR: "{{.CLUSTER_DIR}}/flux"
  FLUX_BOOTSTRAP: "{{.BOOTSTRAP_DIR}}/flux"
  FLUX_SECRETS: "{{.FLUX_BOOTSTRAP}}/secrets"
  TALOS_BOOTSTRAP: "{{.BOOTSTRAP_DIR}}/talos"

  CLUSTERNAME: artemis-cluster
  CONTROLPLANE_IPS:
    - 10.10.99.101
    - 10.10.99.102
    - 10.10.99.103
  WORKER_IPS:
    - 10.10.99.201
    - 10.10.99.202
  TALOS_VIP: 10.10.99.99
  BOOT_DISK: /dev/nvme0n1

includes:
  bootstrap: .taskfiles/Bootstrap/Taskfile.yaml
  validate: .taskfiles/Validation/Taskfile.yaml
  git: .taskfiles/Git/Taskfile.yaml

tasks:
  default:
    desc: List all available tasks
    silent: true
    cmd: task --list-all
